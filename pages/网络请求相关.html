<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ç½‘ç»œè¯·æ±‚åè®®ç›¸å…³&SSE | Welcomeï¼ğŸ’•</title>
    <meta name="description" content="A VitePress Site">
    <meta name="generator" content="VitePress v1.0.1">
    <link rel="preload stylesheet" href="/assets/style.BR3bf6oZ.css" as="style">
    
    <script type="module" src="/assets/app.C_MRvNH1.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.DFluhY12.js">
    <link rel="modulepreload" href="/assets/chunks/theme.bWe8N_go.js">
    <link rel="modulepreload" href="/assets/pages_ç½‘ç»œè¯·æ±‚ç›¸å…³.md.BF1AryQE.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>Welcomeï¼ğŸ’•</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Home</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>å¿«æ·è®¿é—®</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/pages/CSS.html" data-v-43f1e123><!--[-->CSS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/pages/JS.html" data-v-43f1e123><!--[-->JS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/pages/Vue.html" data-v-43f1e123><!--[-->Vue<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/pages/%E5%B0%8F%E7%A8%8B%E5%BA%8F.html" data-v-43f1e123><!--[-->å°ç¨‹åº<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link active" href="/pages/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9B%B8%E5%85%B3.html" data-v-43f1e123><!--[-->ç½‘ç»œè¯·æ±‚ç›¸å…³<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/pages/%E5%B8%B8%E7%94%A8.html" data-v-43f1e123><!--[-->å¸¸ç”¨<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-d2ecc192><button data-v-d2ecc192>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible has-active" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>ç›®å½•</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/pages/CSS.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>CSS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/pages/JS.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>JS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/pages/Vue.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Vue</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/pages/%E5%B0%8F%E7%A8%8B%E5%BA%8F.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>å°ç¨‹åº</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/pages/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9B%B8%E5%85%B3.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>ç½‘ç»œè¯·æ±‚ç›¸å…³</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/pages/%E5%B8%B8%E7%94%A8.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>å¸¸ç”¨</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _pages_%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9B%B8%E5%85%B3" data-v-39a288b8><div><h1 id="ç½‘ç»œè¯·æ±‚åè®®ç›¸å…³-sse" tabindex="-1">ç½‘ç»œè¯·æ±‚åè®®ç›¸å…³&amp;SSE <a class="header-anchor" href="#ç½‘ç»œè¯·æ±‚åè®®ç›¸å…³-sse" aria-label="Permalink to &quot;ç½‘ç»œè¯·æ±‚åè®®ç›¸å…³&amp;SSE&quot;">â€‹</a></h1><h2 id="json-web-token-jwt" tabindex="-1">JSON WEB TOKEN ï¼ˆJWTï¼‰ <a class="header-anchor" href="#json-web-token-jwt" aria-label="Permalink to &quot;JSON WEB TOKEN ï¼ˆJWTï¼‰&quot;">â€‹</a></h2><ul><li>ç»„æˆï¼šHeader(å¤´éƒ¨).Payload(æœ‰æ•ˆè·è½½).Signature(ç­¾å) <code>Header.Payload.Signature</code></li><li><strong>Payload</strong>ï¼šçœŸæ­£çš„ç”¨æˆ·ä¿¡æ¯ç»è¿‡åŠ å¯†åç”Ÿæˆçš„å­—ç¬¦ä¸²</li><li><strong>Headerå’ŒSignature</strong>ï¼šæ˜¯å®‰å…¨æ€§ç›¸å…³éƒ¨åˆ†</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">æµè§ˆå™¨æäº¤è´¦å·å¯†ç </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> æœåŠ¡å™¨éªŒè¯</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> é€šè¿‡ååŠ å¯†ç”Ÿæˆtokenå­—ç¬¦ä¸²å¹¶è¿”å›ç»™æµè§ˆå™¨</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> æµè§ˆå™¨åœ¨è¯·æ±‚å¤´çš„Authorizationå­—æ®µå°†tokenå‘ç»™æœåŠ¡å™¨</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> æœåŠ¡å™¨è§£å¯†éªŒè¯ä¿¡æ¯</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> è®¤è¯æˆåŠŸè¿”å›è¯·æ±‚æ‰€éœ€å†…å®¹ç»™æµè§ˆå™¨</span></span></code></pre></div><h2 id="å–æ¶ˆaxiosè¯·æ±‚" tabindex="-1">å–æ¶ˆaxiosè¯·æ±‚ <a class="header-anchor" href="#å–æ¶ˆaxiosè¯·æ±‚" aria-label="Permalink to &quot;å–æ¶ˆaxiosè¯·æ±‚&quot;">â€‹</a></h2><p>é€šè¿‡<code>AbortController</code> å®ç°ï¼Œæ˜¯ä¸€ä¸ªç”¨äºä¸­æ–­å¼‚æ­¥æ“ä½œçš„ Web API æ¥å£ã€‚</p><ol><li>é€šè¿‡ <code>new AbortController()</code> åˆ›å»ºä¸€ä¸ª <code>AbortController</code> å®ä¾‹ï¼Œç»™controller</li><li>è¯·æ±‚æ—¶å°† <code>controller.signal</code> è®¾ç½®ä¸ºè¯·æ±‚çš„ <code>signal</code> å‚æ•°ï¼Œè®¾ç½®å–æ¶ˆè¯·æ±‚çš„æ ‡è¯†</li><li>å–æ¶ˆè¯·æ±‚åˆ™è°ƒç”¨controller.abort()æ–¹æ³•å³å¯</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> api </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./api/api&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //å¯¼å…¥API</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controller </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> api.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getData10s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(controller.signal)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getData2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controller2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> api.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getData5s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(controller2.signal)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cancel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controller.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controller2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//apiå†…çš„å†™æ³• å®šä¹‰ä¸ªsignalå‚æ•°ï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;../../utils/request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    getData10s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">signal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            url: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/getdata/123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;get&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            signal: signal, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¼ é€’ signal å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    getData5s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">signal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            url: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/getdata&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;get&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            signal: signal, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¼ é€’ signal å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h2 id="è¯·æ±‚å¤±è´¥è‡ªåŠ¨é‡è¯•-é€šè¿‡æ’ä»¶axios-retryå®ç°" tabindex="-1">è¯·æ±‚å¤±è´¥è‡ªåŠ¨é‡è¯•---é€šè¿‡æ’ä»¶axios-retryå®ç° <a class="header-anchor" href="#è¯·æ±‚å¤±è´¥è‡ªåŠ¨é‡è¯•-é€šè¿‡æ’ä»¶axios-retryå®ç°" aria-label="Permalink to &quot;è¯·æ±‚å¤±è´¥è‡ªåŠ¨é‡è¯•---é€šè¿‡æ’ä»¶axios-retryå®ç°&quot;">â€‹</a></h2><blockquote><p>axiosè‡ªå¸¦çš„åˆ™æ˜¯éœ€è¦é…ç½®retrieså’ŒretryDelayæ¥è®¾ç½®é‡è¯•æ¬¡æ•°å’Œç­‰å¾…é—´éš”ï¼Œç„¶ååœ¨å“åº”å¤±è´¥çš„æ‹¦æˆªå™¨ä¸­error.configä¸­è·å–åˆ°è¯·æ±‚çš„ä¸€äº›ä¿¡æ¯å‚æ•°ï¼ŒåŒ…æ‹¬urlä»¥åŠè¯·æ±‚çš„ä¸€äº›å‚æ•°å’Œæ–¹å¼ç­‰ç­‰ï¼Œè¿˜éœ€è¦å¯¹è¯·æ±‚çš„æ¬¡æ•°è¿›è¡Œ+1æ“ä½œï¼Œæœ€åè¿˜éœ€è¦returnä¸€ä¸ªpromiseå¯¹è±¡ï¼Œè¿™ä¸ªpromiseå¯¹è±¡å†…è¦returnå‡ºaxioså®ä¾‹å¹¶ä¼ å…¥åˆšåˆšè·å–åˆ°çš„configï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä¸€èˆ¬éƒ½æ˜¯é‡‡ç”¨axios-retryæ¥å®ç°</p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> axios </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;axios&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> axiosRetry </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;axios-retry&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  #1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> request</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> axios.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    baseURL: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://127.0.0.1:3007/api&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    timeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //axiosè‡ªå¸¦çš„ éœ€è¦æ‰‹åŠ¨å¤„ç† ä¸æ–¹ä¾¿ æ‰€ä»¥é‡‡ç”¨æ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // retries: 3, // è®¾ç½®é‡è¯•æ¬¡æ•°ä¸º3æ¬¡</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 	// retryDelay: 1000, // è®¾ç½®é‡è¯•çš„é—´éš”æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// axios-retry æ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">axiosRetry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(request, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    retries: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®¾ç½®é‡è¯•æ¬¡æ•°</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    retryDelay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®¾ç½®é‡è¯•å»¶è¿Ÿæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    shouldResetTimeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é‡ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    retryCondition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ECONNABORTED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ERR_NETWORK&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error.code), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é‡è¯•æ¡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="chat-gpt-èŠå¤©å®ç°-sseæœåŠ¡å™¨å‘é€äº‹ä»¶-server-sent-events" tabindex="-1">Chat-GPT(èŠå¤©å®ç°) SSEæœåŠ¡å™¨å‘é€äº‹ä»¶ (Server-Sent Events) <a class="header-anchor" href="#chat-gpt-èŠå¤©å®ç°-sseæœåŠ¡å™¨å‘é€äº‹ä»¶-server-sent-events" aria-label="Permalink to &quot;Chat-GPT(èŠå¤©å®ç°)    SSEæœåŠ¡å™¨å‘é€äº‹ä»¶ (Server-Sent Events)&quot;">â€‹</a></h2><blockquote><p>å¸¸ç”¨äº Web é¡µé¢æ¨é€æ•°æ®å’Œä¿¡æ¯,æ•°æ®ä¿¡æ¯åªèƒ½ä»æœåŠ¡ç«¯åˆ°å‘é€åˆ°å®¢æˆ·ç«¯ï¼ˆå¦‚ç”¨æˆ·çš„æµè§ˆå™¨ï¼‰ã€‚åç«¯è¦åœ¨å“åº”å¤´é…ç½®&#39;Content-Type&#39;: &#39;text/event-stream&#39;</p><p>æ¨èä½¿ç”¨fetchå®ç°ï¼Œå› ä¸ºEventSourceåªèƒ½å‘é€ GET è¯·æ±‚ï¼Œä¼ å‚å—é™ï¼Œè€Œä¸”è¿˜æ— æ³•è®¾ç½®è¯·æ±‚å¤´</p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> article</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å­˜å‚¨æ–‡ç« å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ä¸­æ–­å™¨</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> connectSSE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controller3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºä¸€ä¸ªæ–°çš„è¯·æ±‚ä¸­æ­¢æ§åˆ¶å™¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://127.0.0.1:3007/api/chat&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    signal: controller3.signal,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å®šä¹‰ä¸­æ–­å™¨ï¼Œç”¨æˆ·å¯ç»ˆæ­¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;POST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ POST æ–¹æ³•å‘é€è¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    headers: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;application/json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    body: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ user: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;itheima&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }),</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å‘åç«¯ä¼ é€’å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> reader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.body?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–å“åº”å†…å®¹çš„ ReadableStream</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (reader) {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¼€å¯æ— é™å¾ªç¯è·å–å†…å®¹  ä¹Ÿå¯ä»¥ä½¿ç”¨for (;;) {ä»£æ›¿ ä¹Ÿæ˜¯æ— é™å¾ªç¯çš„æ„æ€</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">done</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¯»å–å“åº”å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (done) {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¦‚æœåç«¯å“åº”å®Œäº†ï¼Œé‚£ä¹ˆdoneå°±ä¼šå˜æˆtrue</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      closeSSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¦‚æœè¯·æ±‚å·²ç»å®Œæˆï¼Œä¸­æ­¢è¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      break</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é€€å‡ºå¾ªç¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> decoder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextDecoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºä¸€ä¸ªè§£ç å™¨ï¼Œç”¨æ¥è§£ç æ–‡æœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    article.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> decoder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å°†è§£ç åçš„æ–‡æœ¬æ·»åŠ åˆ°æ–‡ç« å†…å®¹ä¸­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å…³é—­ SSE è¿æ¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> closeSSE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controller3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸­æ­¢è¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="æµè§ˆå™¨ç¼“å­˜" tabindex="-1">æµè§ˆå™¨ç¼“å­˜ <a class="header-anchor" href="#æµè§ˆå™¨ç¼“å­˜" aria-label="Permalink to &quot;æµè§ˆå™¨ç¼“å­˜&quot;">â€‹</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#å¼ºç¼“å­˜ï¼šåœ¨è¯¥å‘¨æœŸå†…å°†ç›´æ¥ä»ç¼“å­˜ä¸­è·å–æ•°æ®ï¼Œè€Œä¸ç”¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ·»åŠ å¼ºç¼“å­˜æ§åˆ¶å¤´  åœ¨axiosè¯·æ±‚æ‹¦æˆªå™¨å†…é…ç½®   éœ€è¦å‰åç«¯éƒ½é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åœ¨è¿™é‡Œå¯ä»¥æ·»åŠ ä¸€äº›ç¼“å­˜ç›¸å…³çš„é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (config.method </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;get&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä½¿ç”¨æ—¶é—´æˆ³æˆ–å…¶ä»–å‚æ•°æ¥ç¡®ä¿æ¯æ¬¡è¯·æ±‚éƒ½æ˜¯å”¯ä¸€çš„ï¼Œé˜²æ­¢ç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config.params </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config.params,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      timestamp: Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ·»åŠ å¼ºç¼“å­˜æ§åˆ¶å¤´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config.headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Cache-Control&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;max-age=300&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¼“å­˜ 5 åˆ†é’Ÿ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">åå•†ç¼“å­˜é€šè¿‡å“åº”å¤´</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(åç«¯)ETagä¸Lastâ€”Modifiedè¿›è¡Œæ§åˆ¶ï¼Œæ¯æ¬¡å‘é€è¯·æ±‚è¿›è¡Œæ–°é²œåº¦æ ¡éªŒï¼Œå¦‚æœèµ„æºè¿‡æ—§å°±ä»å“åº”æ•°æ®ä¸­è·å–ï¼Œå¦åˆ™å°±ä»æµè§ˆå™¨ç¼“å­˜ä¸­è·å–ã€‚æ–°é²œåº¦æ ¡éªŒé€šè¿‡è¯·æ±‚å¤´ï¼ˆå‰ç«¯ï¼‰If</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">None</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Matchä¸å“åº”å¤´Etagå¯¹æ¯”</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨è¿™é‡Œå¯ä»¥æ·»åŠ ä¸€äº›åå•†ç¼“å­˜ç›¸å…³çš„é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (config.method </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;get&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åœ¨è¿™é‡Œè·å–ä¸Šæ¬¡å“åº”çš„ä¿¡æ¯ï¼Œå‡è®¾å­˜åœ¨ lastModified å’Œ etag å˜é‡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> lastModified</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getLastModifiedFromSomewhere</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> etag</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getETagFromSomewhere</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ·»åŠ åå•†ç¼“å­˜æ¡ä»¶åˆ°è¯·æ±‚å¤´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config.headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;If-Modified-Since&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lastModified;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config.headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;If-None-Match&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> etag;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span></code></pre></div><h2 id="httpå’Œhttpsçš„åŒºåˆ«" tabindex="-1">httpå’Œhttpsçš„åŒºåˆ« <a class="header-anchor" href="#httpå’Œhttpsçš„åŒºåˆ«" aria-label="Permalink to &quot;httpå’Œhttpsçš„åŒºåˆ«&quot;">â€‹</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">å®‰å…¨æ€§ï¼š</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HTTP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ï¼š æ˜¯ä¸€ç§æ˜æ–‡ä¼ è¾“åè®®ï¼Œæ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸åŠ å¯†ï¼Œå®¹æ˜“è¢«ä¸­é—´äººçªƒå¬æˆ–ç¯¡æ”¹ã€‚</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HTTPS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ï¼š æ˜¯åœ¨HTTPçš„åŸºç¡€ä¸ŠåŠ å…¥äº†å®‰å…¨æ€§çš„åè®®ã€‚å®ƒé€šè¿‡ä½¿ç”¨ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SSL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TLS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> åè®®å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä½¿å¾—ä¼ è¾“çš„æ•°æ®æ›´åŠ å®‰å…¨ï¼Œéš¾ä»¥è¢«çªƒå¬å’Œç¯¡æ”¹ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">åŠ å¯†æ–¹å¼ï¼š</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HTTP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ï¼š ä½¿ç”¨æ˜æ–‡ä¼ è¾“ï¼Œæ•°æ®ä¸ç»è¿‡åŠ å¯†å¤„ç†ã€‚		</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HTTPS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ï¼š ä½¿ç”¨ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SSL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TLS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> åè®®å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œç¡®ä¿æ•°æ®çš„éšç§æ€§å’Œå®Œæ•´æ€§ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ç«¯å£ï¼š</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HTTP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ï¼š é»˜è®¤ä½¿ç”¨ç«¯å£80ã€‚		</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HTTPS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ï¼š é»˜è®¤ä½¿ç”¨ç«¯å£443ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">è¯ä¹¦ï¼š</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HTTP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ï¼š ä¸éœ€è¦è¯ä¹¦ã€‚	</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HTTPS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ï¼š éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šå®‰è£… </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SSL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> è¯ä¹¦ï¼Œç”¨äºéªŒè¯æœåŠ¡å™¨çš„èº«ä»½ã€‚è¿™ç”±è¯ä¹¦é¢å‘æœºæ„ç­¾å‘ã€‚</span></span></code></pre></div><h2 id="get-å’Œpostçš„åŒºåˆ«" tabindex="-1">get å’Œpostçš„åŒºåˆ« <a class="header-anchor" href="#get-å’Œpostçš„åŒºåˆ«" aria-label="Permalink to &quot;get å’Œpostçš„åŒºåˆ«&quot;">â€‹</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	get</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> åœ¨urlåé¢æ‹¼æ¥å‚æ•°,åªèƒ½ä»¥æ–‡æœ¬çš„å½¢å¼ä¼ é€’æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ä¼ é€’çš„æ•°æ®é‡å°,4KBå·¦å³</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> å®‰å…¨æ€§ä½, ä¼šå°†æ•°æ®æ˜¾ç¤ºåœ¨åœ°å€æ </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			4.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> é€Ÿåº¦å¿«,é€šå¸¸ç”¨äºå®‰å…¨æ€§è¦æ±‚ä¸é«˜çš„è¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			5.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ä¼šç¼“å­˜æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	post</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		    1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> å®‰å…¨æ€§æ¯”è¾ƒé«˜</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ä¼ é€’æ•°æ®é‡å¤§,è¯·æ±‚å¯¹æ•°æ®é•¿åº¦æ²¡æœ‰è¦æ±‚</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> è¯·æ±‚ä¸ä¼šè¢«ç¼“å­˜,ä¹Ÿä¸ä¼šä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•é‡Œ</span></span></code></pre></div><h2 id="é¡¹ç›®ä¸­å¸¸é‡åˆ°çš„çŠ¶æ€ç " tabindex="-1">é¡¹ç›®ä¸­å¸¸é‡åˆ°çš„çŠ¶æ€ç  <a class="header-anchor" href="#é¡¹ç›®ä¸­å¸¸é‡åˆ°çš„çŠ¶æ€ç " aria-label="Permalink to &quot;é¡¹ç›®ä¸­å¸¸é‡åˆ°çš„çŠ¶æ€ç &quot;">â€‹</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  è¯·æ±‚æˆåŠŸ,  2å¼€å¤´çš„å¼‚æ­¥è¡¨ç¤ºè¯·æ±‚æˆåŠŸ</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">304</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  è¯·æ±‚è¢«å…è®¸,ä½†è¯·æ±‚å†…å®¹æ²¡æœ‰æ”¹å˜, 3å¼€å¤´çš„ä¸€èˆ¬è¯·æ±‚å®Œæˆ å¦‚æµè§ˆå™¨ç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  è¯·æ±‚æ ¼å¼é”™è¯¯,  4å¼€å¤´çš„ä¸€èˆ¬è¡¨ç¤ºè¯·æ±‚é”™è¯¯</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">401</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tokenè¿‡æœŸ</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">404</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  è¯·æ±‚çš„èµ„æº</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ç½‘é¡µ)ä¸å­˜åœ¨,  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  å†…éƒ¨æœåŠ¡å™¨é”™è¯¯,  5å¼€å¤´çš„ä¸€èˆ¬éƒ½æ˜¯æŒ‡æœåŠ¡å™¨é”™è¯¯</span></span></code></pre></div><h2 id="ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥-æ€ä¹ˆè§£å†³è·¨åŸŸé—®é¢˜" tabindex="-1">ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Ÿæ€ä¹ˆè§£å†³è·¨åŸŸé—®é¢˜ <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥-æ€ä¹ˆè§£å†³è·¨åŸŸé—®é¢˜" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Ÿæ€ä¹ˆè§£å†³è·¨åŸŸé—®é¢˜&quot;">â€‹</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   åŒæºç­–ç•¥</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨çš„ä¸€ç§å®‰å…¨ç­–ç•¥, æ‰€è°“åŒæºæ˜¯æŒ‡åŸŸåã€åè®®ã€ç«¯å£å®Œå…¨ç›¸åŒï¼Œä¸åŒæºåˆ™è·¨åŸŸã€‚</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   è§£å†³è·¨åŸŸçš„æ–¹æ³•</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> é€šè¿‡jsonpè·¨åŸŸ åªæ”¯æŒ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> è¯·æ±‚ï¼Œå¹¶ä¸”éœ€è¦åç«¯æ”¯æŒ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSONP</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> è·¨åŸŸèµ„æºå…±äº«ï¼ˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CORS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Access</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Control</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Allow</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Origin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//api.bob.comï¼‰</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">			3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nginxä»£ç†è·¨åŸŸ</span></span></code></pre></div><h2 id="å¯¹websocketäº†è§£å“ªäº›" tabindex="-1">å¯¹WebSocketäº†è§£å“ªäº› <a class="header-anchor" href="#å¯¹websocketäº†è§£å“ªäº›" aria-label="Permalink to &quot;å¯¹WebSocketäº†è§£å“ªäº›&quot;">â€‹</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">WebSocket æ˜¯å…¨åŒå·¥é€šä¿¡  HTML5ä¸€ç§æ–°çš„åè®®ã€‚å®ç°æµè§ˆå™¨ä¸æœåŠ¡å™¨ï¼Œæ›´å¥½çš„èŠ‚çœæœåŠ¡å™¨èµ„æºå’Œå¸¦å®½å¹¶è¾¾åˆ°å®æ—¶é€šè®¯ï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> WebSocketæ˜¯ä¸€ç§åŒå‘é€šä¿¡åè®®ï¼Œåœ¨å»ºç«‹è¿æ¥åæä¾›äº†åŒå‘é€šä¿¡ï¼Œå…è®¸å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹æŒä¹…æ€§è¿æ¥ï¼Œå¯ä»¥åœ¨è¿æ¥å»ºç«‹ååŒå‘ä¼ è¾“æ•°æ®ã€‚</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> WebSocket æ¡æ‰‹æ˜¯åœ¨å»ºç«‹è¿æ¥ä¹‹å‰çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œä½†å®ƒæ˜¯åŸºäº </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HTTP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> åè®®çš„ã€‚ä¸€æ—¦æ¡æ‰‹æˆåŠŸï¼Œä¹‹åçš„é€šä¿¡å°±åœ¨ä¸€ä¸ªæŒä¹…çš„è¿æ¥ä¸Šè¿›è¡Œï¼Œä¸å†éœ€è¦é‡æ–°æ¡æ‰‹ã€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HTTP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> æ˜¯åŠåŒå·¥é€šä¿¡   è¯·æ±‚</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">å“åº”åè®®ï¼Œå®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯è¿”å›å“åº”ã€‚é€šå¸¸æ˜¯å•å‘é€šä¿¡ï¼Œå³å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨å“åº”åè¿æ¥å³æ–­å¼€ã€‚</span></span></code></pre></div><h2 id="åœ¨åœ°å€æ è¾“å…¥ç½‘å€-åˆ°æ•°æ®è¿”å›çš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆ" tabindex="-1">åœ¨åœ°å€æ è¾“å…¥ç½‘å€ï¼Œåˆ°æ•°æ®è¿”å›çš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#åœ¨åœ°å€æ è¾“å…¥ç½‘å€-åˆ°æ•°æ®è¿”å›çš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;åœ¨åœ°å€æ è¾“å…¥ç½‘å€ï¼Œåˆ°æ•°æ®è¿”å›çš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> è¾“å…¥urlåœ°å€åï¼Œé¦–å…ˆè¿›è¡ŒDNSè§£æï¼Œå°†ç›¸åº”çš„åŸŸåè§£æä¸ºIPåœ°å€ã€‚</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> æ ¹æ®IPåœ°å€å»å¯»æ‰¾ç›¸åº”çš„æœåŠ¡å™¨ã€‚</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ä¸æœåŠ¡å™¨è¿›è¡ŒTCPçš„ä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹è¿æ¥ã€‚</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> å®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼Œæ‰¾åˆ°ç›¸åº”çš„èµ„æºåº“ã€‚</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> å®¢æˆ·ç«¯æ‹¿åˆ°æ•°æ®ï¼Œè¿›è¡Œç›¸åº”çš„æ¸²æŸ“ã€‚</span></span></code></pre></div><h2 id="axiosçš„ç‰¹ç‚¹æœ‰å“ªäº›" tabindex="-1">axiosçš„ç‰¹ç‚¹æœ‰å“ªäº› <a class="header-anchor" href="#axiosçš„ç‰¹ç‚¹æœ‰å“ªäº›" aria-label="Permalink to &quot;axiosçš„ç‰¹ç‚¹æœ‰å“ªäº›&quot;">â€‹</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ã€Axios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HTTP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> åº“ï¼Œæ”¯æŒpromiseæ‰€æœ‰çš„API</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ã€å®ƒå¯ä»¥æ‹¦æˆªè¯·æ±‚å’Œå“åº”</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ã€å®ƒå¯ä»¥è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®ï¼Œå¹¶å¯¹å“åº”å›æ¥çš„å†…å®¹è‡ªåŠ¨è½¬æ¢æˆ JSONç±»å‹çš„æ•°æ®</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><!----><nav class="prev-next" data-v-09de1c0f><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link prev" href="/pages/%E5%B0%8F%E7%A8%8B%E5%BA%8F.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Previous page</span><span class="title" data-v-09de1c0f>å°ç¨‹åº</span><!--]--></a></div><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link next" href="/pages/%E5%B8%B8%E7%94%A8.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Next page</span><span class="title" data-v-09de1c0f>å¸¸ç”¨</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"DsumyOlk\",\"markdown-examples.md\":\"0N4iSjgN\",\"api-examples.md\":\"BWj8DiKm\",\"pages_css.md\":\"D-7Q1tfU\",\"pages_vue.md\":\"CcX18NfQ\",\"pages_ç½‘ç»œè¯·æ±‚ç›¸å…³.md\":\"BF1AryQE\",\"pages_å°ç¨‹åº.md\":\"FBtPiAzR\",\"pages_js.md\":\"D9B4l84v\",\"pages_å¸¸ç”¨.md\":\"Dr78HVqT\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Welcomeï¼ğŸ’•\",\"description\":\"A VitePress Site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"å¿«æ·è®¿é—®\",\"items\":[{\"text\":\"CSS\",\"link\":\"/pages/CSS.md\"},{\"text\":\"JS\",\"link\":\"/pages/JS.md\"},{\"text\":\"Vue\",\"link\":\"/pages/Vue.md\"},{\"text\":\"å°ç¨‹åº\",\"link\":\"/pages/å°ç¨‹åº.md\"},{\"text\":\"ç½‘ç»œè¯·æ±‚ç›¸å…³\",\"link\":\"/pages/ç½‘ç»œè¯·æ±‚ç›¸å…³.md\"},{\"text\":\"å¸¸ç”¨\",\"link\":\"/pages/å¸¸ç”¨.md\"}]}],\"sidebar\":[{\"text\":\"ç›®å½•\",\"collapsed\":false,\"items\":[{\"text\":\"CSS\",\"link\":\"/pages/CSS.md\"},{\"text\":\"JS\",\"link\":\"/pages/JS.md\"},{\"text\":\"Vue\",\"link\":\"/pages/Vue.md\"},{\"text\":\"å°ç¨‹åº\",\"link\":\"/pages/å°ç¨‹åº.md\"},{\"text\":\"ç½‘ç»œè¯·æ±‚ç›¸å…³\",\"link\":\"/pages/ç½‘ç»œè¯·æ±‚ç›¸å…³.md\"},{\"text\":\"å¸¸ç”¨\",\"link\":\"/pages/å¸¸ç”¨.md\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>